(function(){tinymce.create("tinymce.plugins.tinymce_clear_float",{init:function(c,f){var e=new DOMParser,g=(tinymce.Env.mac?"\u2303\u2325":"Shift+Alt+")+"F";placeholder=document.createElement("img");placeholder.src=tinymce.Env.transparentSrc;placeholder.className="mce-tinymce-clear-float";placeholder.title=c.getLang("tinymce_clear_float.img_title");placeholder.setAttribute("data-wp-more","");placeholder.setAttribute("data-mce-resize",!1);placeholder.setAttribute("data-mce-placeholder",1);element=
document.createElement("br");element.style.clear="both";c.addButton("tinymce-clear-float",{title:c.getLang("tinymce_clear_float.tooltip")+" ("+g+")",cmd:"clear_both",image:f+"/../images/tinymce-clear-float-icon.svg"});c.addShortcut("access+f",null,"clear_both");c.addCommand("clear_both",function(){c.execCommand("mceInsertContent",!1,placeholder.outerHTML)});c.on("BeforeSetContent",function(c){if(c.content){for(var d=e.parseFromString(c.content,"text/html"),b=d.getElementsByTagName("br"),a=b.length-
1;0<=a;a--)"both"===b[a].style.clear&&b[a].parentNode.replaceChild(placeholder.cloneNode(),b[a]);b=d.getElementsByTagName("div");for(a=b.length-1;0<=a;a--)console.log(b[a].textContent),"both"!==b[a].style.clear||b[a].hasChildNodes()&&"\u00a0"!==b[a].textContent||b[a].parentNode.replaceChild(placeholder.cloneNode(),b[a]);c.content=d.body.innerHTML}});c.on("PostProcess",function(c){if(c.content){for(var d=e.parseFromString(c.content,"text/html"),b=d.getElementsByTagName("img"),a=b.length-1;0<=a;a--)"mce-tinymce-clear-float"===
b[a].className&&b[a].parentNode.replaceChild(element.cloneNode(),b[a]);c.content=d.body.innerHTML}})}});tinymce.PluginManager.add("tinymce_clear_float_plugin",tinymce.plugins.tinymce_clear_float)})();
